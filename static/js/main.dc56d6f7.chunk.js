(this["webpackJsonpreact-api-practice"]=this["webpackJsonpreact-api-practice"]||[]).push([[0],{23:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),r=a(15),s=a.n(r),i=a(6),o=a.n(i),u=a(16),l=a(4),j=a(3),b=(a(23),a(17)),d=a.n(b),h=a(0),O=function(e,t){switch(t.type){case"STORIES_FETCH_INIT":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0,isError:!1});case"STORIES_FETCH_SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!1,data:t.payload});case"STORIES_FETCH_FAILURE":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!0});case"REMOVE_STORY":return Object(j.a)(Object(j.a)({},e),{},{data:e.data.filter((function(e){return t.payload.objectID!==e.objectID}))});default:throw new Error}},p="https://hn.algolia.com/api/v1/search?query=";var m=function(e){var t=e.searchTerm,a=e.onSearchInput,c=e.onSearchSubmit;return Object(h.jsxs)("form",{onSubmit:c,className:"search-form",children:[Object(h.jsx)(S,{id:"search",value:t,isFocused:!0,onInputChange:a,children:Object(h.jsx)("strong",{children:"Search: "})}),Object(h.jsx)("button",{type:"submit",disabled:!t,className:"button button_large",children:"Submit"})]})},S=function(e){var t=e.id,a=e.value,c=e.type,r=void 0===c?"text":c,s=e.onInputChange,i=e.isFocused,o=e.children,u=n.a.useRef();return n.a.useEffect((function(){i&&u.current&&u.current.focus()}),[i]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("label",{htmlFor:t,className:"label",children:o}),"\xa0",Object(h.jsx)("input",{ref:u,id:t,type:r,value:a,autoFocus:i,onChange:s,className:"input"})]})},f=function(e){var t=e.list,a=e.onRemoveItem;return t.map((function(e){return Object(h.jsx)(E,{item:e,onRemoveItem:a},e.objectID)}))},E=function(e){var t=e.item,a=e.onRemoveItem;return Object(h.jsxs)("div",{className:"item",children:[Object(h.jsx)("span",{style:{width:"40%"},children:Object(h.jsx)("a",{href:t.url,children:t.title})}),Object(h.jsx)("span",{style:{width:"30%"},children:t.author}),Object(h.jsx)("span",{style:{width:"10%"},children:t.num_comments}),Object(h.jsx)("span",{style:{width:"10%"},children:t.points}),Object(h.jsx)("span",{style:{width:"10%"},children:Object(h.jsx)("button",{className:"button button_small",type:"button",onClick:function(){return a(t)},children:"Dismiss"})})]})},x=function(){var e=function(e,t){var a=n.a.useState(localStorage.getItem(e)||t),c=Object(l.a)(a,2),r=c[0],s=c[1];return n.a.useEffect((function(){localStorage.setItem(e,r)}),[r,e]),[r,s]}("search","React"),t=Object(l.a)(e,2),a=t[0],c=t[1],r=n.a.useState("".concat(p).concat(a)),s=Object(l.a)(r,2),i=s[0],j=s[1],b=n.a.useReducer(O,{data:[],isLoading:!1,isError:!1}),S=Object(l.a)(b,2),E=S[0],x=S[1],I=n.a.useCallback(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x({type:"STORIES_FETCH_INIT"}),e.prev=1,e.next=4,d.a.get(i);case 4:t=e.sent,x({type:"STORIES_FETCH_SUCCESS",payload:t.data.hits}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),x({TYPE:"STORIES_FETCH_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[i]);return n.a.useEffect((function(){I()}),[I]),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h1",{className:"headline-primary",children:"HackerNews Story Search"}),Object(h.jsx)(m,{searchTerm:a,onSearchInput:function(e){c(e.target.value)},onSearchSubmit:function(e){j("".concat(p).concat(a)),e.preventDefault()}}),E.isError&&Object(h.jsx)("p",{children:"Something went wrong..."}),E.isLoading?Object(h.jsx)("p",{children:"Loading...."}):Object(h.jsx)(f,{list:E.data,onRemoveItem:function(e){x({type:"REMOVE_STORY",payload:e})}})]})};s.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.dc56d6f7.chunk.js.map